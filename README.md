# OCR File Cleaner

クリップボードにコピーされた画像、またはテキストリストを解析し、対応するローカルの動画ファイルを自動的に検出・削除するPythonツールです。

YouTubeやクラウドストレージ（Terabox等）にアップロード済みの動画一覧をもとに、ローカルの元動画ファイルを効率よく整理・削除するために開発しました。

## 構成ファイル
用途と環境に合わせて3種類のスクリプトを用意しています。

### 1. OCRモード（画像から削除）
クリップボードのスクリーンショットに含まれる文字列から解析します。少量のファイル削除を想定しています。

- **`delete_from_clipboard_youtube.py`**
  - **対象**: YouTube Studioにアップロードされた動画のファイル名が記載されたスクリーンショットなど
  - **特徴**: 動画タイトル（スペース区切りの日時）からファイル名を推測します。

- **`delete_from_clipboard_terabox.py`**
  - **対象**: Teraboxにアップロードされた動画のファイル名が記載されたスクリーンショットなど
  - **特徴**: 画像内のファイル名から拡張子を除去して日時を抽出し、推測します。

### 2. テキストモード（リストから削除）
ブラウザのコンソール等から取得したファイル名リストを使用します。

- **`delete_from_txtfile.py`**
  - **対象**: 削除対象のファイル名を集めたテキストファイル（.txt）
  - **特徴**: **[推奨]** OCRを使わないため、数百件以上のファイルを**高速かつ正確**に一括削除できます。ファイル選択ダイアログ（GUI）から削除するリストが書かれたテキストファイルを読み込みます。

## 機能
- **クリップボード画像の直接解析**: スクリーンショット (Win+Shift+S) から即座に処理を開始
- **テキストリスト一括処理**: ファイル名リスト（.txt）を読み込んでの高速削除
- **ノイズ除去**: OCR読み取り時に混入するノイズ（カンマ、ピリオド、汚れ）を正規表現で除去
- **誤読補正機能**
  - **文字置換**: 「O (オー)」を「0 (ゼロ)」に変換、「L」を「1」に変換など
  - **ファジーマッチング**: 「3」と「8」の誤読パターンなどを総当たりで検証
- **安全設計**: 規則性のあるファイル名の桁数チェックによる誤削除防止

## 前提条件・環境
本プログラム（OCRモード）の動作には、Tesseract OCR のインストールが必要です。

コード内では以下の環境に合わせてパスを設定しています。
- Tesseract OCR (インストール先: C:\Program Files\Tesseract-OCR\tesseract.exe)
- 削除対象ディレクトリ: J:\

## 使用技術
- Python
- pytesseract
- Pillow (PIL)
- re (標準ライブラリ)
- tkinter (標準ライブラリ / GUIファイル選択用)